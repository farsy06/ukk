<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="955px" preserveAspectRatio="none" style="width:623px;height:955px;background:#FFFFFF;" version="1.1" viewBox="0 0 623 955" width="623px" zoomAndPan="magnify"><title>Flowchart - Pengembalian Alat &amp; Perhitungan Denda (eSarpra)</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="497.5811" x="61.3667" y="32.9951">Flowchart - Pengembalian Alat &amp; Perhitungan Denda (eSarpra)</text></g><ellipse cx="348.5767" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="199.7598" x="248.6968" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="179.7598" x="258.6968" y="108.4355">Petugas membuka dashboard</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="56.3906" x="258.6968" y="122.4043">/ petugas</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="182.1758" x="257.4888" y="155.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="162.1758" x="267.4888" y="176.373">Pilih transaksi peminjaman</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="178.7598" x="259.1968" y="209.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158.7598" x="269.1968" y="230.3418">POST /petugas/kembali/:id</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="158.6211" x="269.2661" y="263.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138.6211" x="279.2661" y="284.3105">Load data peminjaman</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="89.1387" x="279.2661" y="298.2793">(+ user &amp; alat)</text><polygon fill="#F1F1F1" points="277.2969,331.1094,419.8564,331.1094,431.8564,343.1094,419.8564,355.1094,277.2969,355.1094,265.2969,343.1094,277.2969,331.1094" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142.5596" x="277.2969" y="346.9175">Status disetujui/dipinjam?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.46" x="251.8369" y="340.5151">Ya</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29.8687" x="431.8564" y="340.5151">Tidak</text><rect fill="#F1F1F1" height="61.9063" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="216.4766" x="83.793" y="365.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="126.2813" x="93.793" y="386.248">Update peminjaman:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139.1191" x="93.793" y="400.2168">status = dikembalikan;</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="196.4766" x="93.793" y="414.1855">tanggal_pengembalian = hari ini</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="113.9082" x="135.0771" y="447.0156"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74.0625" x="145.0771" y="468.1543">Update alat:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="93.9082" x="145.0771" y="482.123">stok += jumlah</text><polygon fill="#F1F1F1" points="126.4636,514.9531,257.5989,514.9531,269.5989,527.7578,257.5989,540.5625,126.4636,540.5625,114.4636,527.7578,126.4636,514.9531" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="131.1353" x="126.4636" y="525.1636">alat.status == dipinjam</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74.0728" x="126.4636" y="537.9683">AND stok &gt; 0</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="13.46" x="101.0037" y="525.1636">Ya</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29.8687" x="269.5989" y="525.1636">Tidak</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="173.5977" x="11" y="550.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="153.5977" x="21" y="571.7012">Set alat.status = tersedia</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="163.332" x="204.5977" y="550.5625"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="143.332" x="214.5977" y="571.7012">Pertahankan status alat</text><polygon fill="#F1F1F1" points="192.0313,590.5313,204.0313,602.5313,192.0313,614.5313,180.0313,602.5313,192.0313,590.5313" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="313.5723" x="35.2451" y="634.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="136.1133" x="45.2451" y="655.6699">Hitung keterlambatan:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="293.5723" x="45.2451" y="669.6387">daysOverdue = max(0, today - tanggal_kembali)</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="184.1914" x="99.9355" y="702.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85.3242" x="109.9355" y="723.6074">Hitung denda:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164.1914" x="109.9355" y="737.5762">fine = daysOverdue * 5000</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="196.127" x="93.9678" y="770.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="73.5879" x="103.9678" y="791.5449">LogAktivitas</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="176.127" x="103.9678" y="805.5137">"Konfirmasi pengembalian..."</text><rect fill="#F1F1F1" height="33.9688" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126.6816" x="128.6904" y="838.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106.6816" x="138.6904" y="859.4824">Redirect /petugas</text><rect fill="#F1F1F1" height="47.9375" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="214.3848" x="397.9297" y="365.1094"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82.002" x="407.9297" y="386.248">Tolak request</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194.3848" x="407.9297" y="400.2168">"Status peminjaman tidak valid"</text><polygon fill="#F1F1F1" points="348.5767,878.3125,360.5767,890.3125,348.5767,902.3125,336.5767,890.3125,348.5767,878.3125" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="348.5767" cy="933.3125" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="348.5767" cy="933.3125" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.5767" x2="348.5767" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="344.5767,77.2969,348.5767,87.2969,352.5767,77.2969,348.5767,81.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.5767" x2="348.5767" y1="135.2344" y2="155.2344"/><polygon fill="#181818" points="344.5767,145.2344,348.5767,155.2344,352.5767,145.2344,348.5767,149.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.5767" x2="348.5767" y1="189.2031" y2="209.2031"/><polygon fill="#181818" points="344.5767,199.2031,348.5767,209.2031,352.5767,199.2031,348.5767,203.2031" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.5767" x2="348.5767" y1="243.1719" y2="263.1719"/><polygon fill="#181818" points="344.5767,253.1719,348.5767,263.1719,352.5767,253.1719,348.5767,257.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="192.0313" y1="427.0156" y2="447.0156"/><polygon fill="#181818" points="188.0313,437.0156,192.0313,447.0156,196.0313,437.0156,192.0313,441.0156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="114.4636" x2="97.7988" y1="527.7578" y2="527.7578"/><line style="stroke:#181818;stroke-width:1;" x1="97.7988" x2="97.7988" y1="527.7578" y2="550.5625"/><polygon fill="#181818" points="93.7988,540.5625,97.7988,550.5625,101.7988,540.5625,97.7988,544.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="269.5989" x2="286.2637" y1="527.7578" y2="527.7578"/><line style="stroke:#181818;stroke-width:1;" x1="286.2637" x2="286.2637" y1="527.7578" y2="550.5625"/><polygon fill="#181818" points="282.2637,540.5625,286.2637,550.5625,290.2637,540.5625,286.2637,544.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="97.7988" x2="97.7988" y1="584.5313" y2="602.5313"/><line style="stroke:#181818;stroke-width:1;" x1="97.7988" x2="180.0313" y1="602.5313" y2="602.5313"/><polygon fill="#181818" points="170.0313,598.5313,180.0313,602.5313,170.0313,606.5313,174.0313,602.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="286.2637" x2="286.2637" y1="584.5313" y2="602.5313"/><line style="stroke:#181818;stroke-width:1;" x1="286.2637" x2="204.0313" y1="602.5313" y2="602.5313"/><polygon fill="#181818" points="214.0313,598.5313,204.0313,602.5313,214.0313,606.5313,210.0313,602.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="192.0313" y1="494.9531" y2="514.9531"/><polygon fill="#181818" points="188.0313,504.9531,192.0313,514.9531,196.0313,504.9531,192.0313,508.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="192.0313" y1="614.5313" y2="634.5313"/><polygon fill="#181818" points="188.0313,624.5313,192.0313,634.5313,196.0313,624.5313,192.0313,628.5313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="192.0313" y1="682.4688" y2="702.4688"/><polygon fill="#181818" points="188.0313,692.4688,192.0313,702.4688,196.0313,692.4688,192.0313,696.4688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="192.0313" y1="750.4063" y2="770.4063"/><polygon fill="#181818" points="188.0313,760.4063,192.0313,770.4063,196.0313,760.4063,192.0313,764.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="192.0313" y1="818.3438" y2="838.3438"/><polygon fill="#181818" points="188.0313,828.3438,192.0313,838.3438,196.0313,828.3438,192.0313,832.3438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="265.2969" x2="192.0313" y1="343.1094" y2="343.1094"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="192.0313" y1="343.1094" y2="365.1094"/><polygon fill="#181818" points="188.0313,355.1094,192.0313,365.1094,196.0313,355.1094,192.0313,359.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="431.8564" x2="505.1221" y1="343.1094" y2="343.1094"/><line style="stroke:#181818;stroke-width:1;" x1="505.1221" x2="505.1221" y1="343.1094" y2="365.1094"/><polygon fill="#181818" points="501.1221,355.1094,505.1221,365.1094,509.1221,355.1094,505.1221,359.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="192.0313" y1="872.3125" y2="890.3125"/><line style="stroke:#181818;stroke-width:1;" x1="192.0313" x2="336.5767" y1="890.3125" y2="890.3125"/><polygon fill="#181818" points="326.5767,886.3125,336.5767,890.3125,326.5767,894.3125,330.5767,890.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.1221" x2="505.1221" y1="413.0469" y2="890.3125"/><line style="stroke:#181818;stroke-width:1;" x1="505.1221" x2="360.5767" y1="890.3125" y2="890.3125"/><polygon fill="#181818" points="370.5767,886.3125,360.5767,890.3125,370.5767,894.3125,366.5767,890.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.5767" x2="348.5767" y1="311.1094" y2="331.1094"/><polygon fill="#181818" points="344.5767,321.1094,348.5767,331.1094,352.5767,321.1094,348.5767,325.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="348.5767" x2="348.5767" y1="902.3125" y2="922.3125"/><polygon fill="#181818" points="344.5767,912.3125,348.5767,922.3125,352.5767,912.3125,348.5767,916.3125" style="stroke:#181818;stroke-width:1;"/><!--SRC=[NP91Rzim38Nl_XL43uEpRh4lkzZ8XW15KQ35MYpPOO21WQqOcx4iknATRVz-bEEkxgxYUv-UdYWibk3Qzh-U6lG27-61N4tT8rf61rkB0k_qp3Siewlrw8gSGKXfXtxmk4gI86fCYWUIiSO0dPh75i5WQ1vxzAPo6GpdOQaojjo0U7G1sy0wwTWTiKCNX_UxFMIpE6lFCRA2ZSxkUZGA5LnOAfTUmXZ8QqRKgAioIVW0wKvGnW26WwAE8sU6XydoPGNIa8FqXoO7ABuFIgG5iQXSE9itQfyJj1gkSeAkhj7-79O5RK1hOs37vO8NiqoaleNB3Hp7pcAZsG1YkZXTlzmIhpbdgzpswnLCdi-Glmsgw1q9l762a0za6EFDP0D1kcU3xQpNFnDiq6buc2tHFecTuKDCKznClmejASkYFagc2Wp-2VSdycOalQV3tsd-0QJNOrsGbnxcSbRb0cJYSYZWm2uwbvpty2dFyqbyrzVRLlZ4Wg5o5xUzwds7qpQyThjUhoyc-JTzfASd-RSPPVBVSujzRx45JyyZ1L7al02l_meIjN1Iib7gt82MFVm5]--></g><script xmlns=""/></svg>